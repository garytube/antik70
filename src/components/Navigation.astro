---
import Logo from "./Logo.astro";
import Shop from "./ShopButton.astro";
const links = [
  {
    label: "Beleuchtung",
    href: "#",
  },
  {
    label: "Antike MÃ¶bel",
    href: "#",
  },
  {
    label: "Dienstleistungen",
    href: "#",
  },
  {
    label: "Unsere Geschichte",
    href: "#",
  },
];

let mobileMenueOpen = false;
---

<ul
  class="hidden lg:flex flex-1 ml-4 xl:ml-10 items-center justify-center sm:items-center sm:justify-start space-x-2 xl:space-x-4 2xl:space-x-8 text-base xl:text-lg"
>
  {
    links.map(({ label, href }) => (
      <li>
        <a
          class="font-semibold rounded-text px-3 py-1.5 xl:px-4 xl:py-2 hover:bg-primary hover:text-white transition-colors duration-200 ease-in-out  whitespace-nowrap"
          href={href}
        >
          {label}
        </a>
      </li>
    ))
  }

  <li class="xl:ml-auto-"><Shop>Online Shop</Shop></li>
</ul>

<div
  id="mobileMenu"
  class="fixed w-screen hidden lg:hidden h-screen z-20 flex justify-center items-start pt-8 bg-beige inset-0"
>
  <Logo />
  <div
    class="absolute w-full flex flex-col flex-wrap top-16 gap-y-8 py-8 z-10 text-primary shadow-xl"
    aria-orientation="vertical"
    aria-labelledby="user-menu-button"
    tabindex="-1"
  >
    {
      links.map(({ label, href }, i) => (
        <a
          href={href}
          class="block text-center px-4 py-2 hover:font-bold  "
          role="menuitem"
          tabindex={i}
          id="user-menu-item-{i}"
        >
          {label}
        </a>
      ))
    }
  </div>
</div>
<div
  id="mobile_nav_button"
  class="absolute inset-y-0 right-4 flex items-center lg:hidden"
>
  <!-- Mobile menu button-->
  <button
    type="button"
    class="relative inline-flex items-center justify-center rounded-md border-2 p-1 text-gray-400 hover:bg-gray-700 hover:text-highlight focus:outline-none"
    aria-controls="mobile-menu"
    aria-expanded="false"
  >
    <span class="absolute -inset-0.5"></span>
    <span class="sr-only">Open main menu</span>
    <!--
            Icon when menu is closed.

            Menu open: "hidden", Menu closed: "block"
          -->
    <svg
      class="block h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      aria-hidden="true"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
    </svg>
    <!--
            Icon when menu is open.

            Menu open: "block", Menu closed: "hidden"
          -->
    <svg
      class="hidden h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      aria-hidden="true"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M6 18L18 6M6 6l12 12"></path>
    </svg>
  </button>
</div>

<div class="absolute w-full left-0 -top-12 text-center lg:hidden">
  <div class="px-8">
    <Shop icon>Online Shop</Shop>
  </div>
</div>

<script>
  function openMenu() {
    document.getElementById("mobileMenu")!.classList.toggle("hidden");
    console.log("button clicked!");
  }
  document
    .getElementById("mobile_nav_button")!
    .addEventListener("click", openMenu);
  document.getElementById("mobileMenu")!.addEventListener("click", openMenu);
</script>
